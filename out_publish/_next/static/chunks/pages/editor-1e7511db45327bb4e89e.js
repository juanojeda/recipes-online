_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{FlrU:function(n,e,t){"use strict";t.r(e);var r=t("o0o1"),a=t.n(r),i=t("HaE+"),o=t("rePB");function c(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function u(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(n){if("string"===typeof n)return c(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=t("h4VS"),s=t("q1tI"),f=t.n(s),d=t("yzAy"),p=t("17x9"),m=t.n(p),b=(m.a.string,m.a.string,m.a.string,m.a.string,m.a.string,m.a.string,m.a.string,t("wx14"));function v(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var g=f.a.createElement,h=function(n){var e=n.id,t=n.amount,r=n.item,a=n.unit,i=n.preparations,o=n.removeIngredient;return g("li",null,g("div",null,t&&t,a&&" ".concat(a)," ",r,i&&", ".concat(i)),g("button",{onClick:o(e)},"remove"))},O=f.a.createElement,y=function(n){var e=n.ingredients,t=n.removeIngredient;return e.length?O("div",null,O("h2",null,"Ingredients"),O("ul",null,e.map((function(n,e){var r=n.id,a=v(n,["id"]);return O(h,Object(b.a)({key:r,id:r,removeIngredient:t},a))})))):null},j=f.a.createElement,w=function(n){var e=n.id,t=n.step,r=n.removeMethod;return j("li",null,j("p",null,t),j("button",{onClick:r(e)},"remove"))},P=f.a.createElement,k=function(n){var e=n.method,t=n.removeMethod;return e.length?P("div",null,P("h2",null,"Method"),P("ol",null,e.map((function(n,e){var r=n.id,a=n.step;return P(w,{key:r,id:r,step:a,removeMethod:t})})))):null},x=f.a.createElement,E=function(n){var e=n.title,t=n.ingredients,r=n.methods,a=n.removeMethod,i=n.removeIngredient;return x("div",null,x("h1",null,e),x(y,{ingredients:t,removeIngredient:i}),x(k,{method:r,removeMethod:a}))},S=t("vOnD"),_=t("xyTB"),I=f.a.createElement;function M(){var n=Object(l.a)(["\n  line-height: 1.5;\n  vertical-align: bottom;\n"]);return M=function(){return n},n}function A(){var n=Object(l.a)(["\n  background: ",";\n  border: none;\n  border-bottom: ",";\n  font-family: inherit;\n  font-size: 1rem;\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  transition: 200ms ease background;\n  width: 100%;\n  &:focus,\n  &:active {\n    background: ",";\n  }\n"]);return A=function(){return n},n}var D=S.c.input(A(),_.a.inputs.bg,_.a.inputs.borderBottom,_.a.inputs.bgFocus),F=Object(S.c)(D).attrs({as:"textarea"})(M()),B=function(n){return I(D,n)},N=function(n){return I(F,n)},C=function(n){var e=n.type,t=void 0===e?"text":e,r=n.value,a=n.setter,i=n.placeholder;return I("textarea"===t?N:B,{type:"textarea"===t?void 0:t,onChange:function(n){return a(n.target.value)},placeholder:i,value:r})},T=t("iepe"),V=f.a.createElement;function J(){var n=Object(l.a)(["\n  appearance: none;\n  background: ",";\n  border: ",";\n  border-radius: 0.25rem;\n  color: ",";\n  font-family: ",";\n  font-size: 1rem;\n  padding-bottom: 0.5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  width: ",";\n"]);return J=function(){return n},n}var z=S.c.button(J(),(function(n){var e=n.variant;return _.a.buttons[e].bg}),(function(n){var e=n.variant;return _.a.buttons[e].border}),(function(n){var e=n.variant;return _.a.buttons[e].text}),T.a.sans[700],(function(n){return n.block?"100%":void 0})),L=function(n){var e=n.variant,t=n.children,r=n.fn;return V(z,{variant:e,onClick:r,block:!0},t)},R=f.a.createElement,U=function(n){var e=n.setValueFn,t=Object(s.useState)(""),r=t[0],a=t[1];return R("div",null,R(C,{type:"textarea",value:r,setter:a,placeholder:"Eg. Whisk the eggs together, and season to taste."}),R(L,{variant:"secondary",fn:function(){e(r),a("")}},"Add step"))},X=["cup","cups","tsp","tbsp","kg","g","ml","l","bunch","bunches","pinch","pinches"],W=/^[\d\.\\u2013\- /]+/i,q=/^a /i,G=function(n){if(n.match(q))return"1";var e=n.match(W);return e?e[0].trim():void 0},H=function(n){return n.replace(W,"").split(" ").find((function(n){return X.includes(n)}))},K=function(n){var e=n.split(", ");if(e.length>1)return e.slice(-1)[0]},$=function(n){return{unit:H(n),amount:G(n),preparations:K(n),item:(e=n,[e].map((function(n){return n.replace(q,"")})).map((function(n){return n.replace(G(n),"")})).map((function(n){return n.replace(H(n),"")})).map((function(n){return n.replace(K(n),"")})).map((function(n){return n.replace(",","")}))[0].replace(/^\s*of/,"").trim())};var e},Q=f.a.createElement;function Y(){var n=Object(l.a)(["\n  flex: 1 1 100%;\n"]);return Y=function(){return n},n}function Z(){var n=Object(l.a)(["\n  display: flex;\n"]);return Z=function(){return n},n}var nn=S.c.div(Z()),en=S.c.div(Y()),tn=function(n){var e=n.setValueFn,t=Object(s.useState)(""),r=t[0],a=t[1];return Q("div",null,Q(nn,null,Q(en,null,Q(C,{value:r,setter:a,placeholder:"eg. 1 cup carrots, chopped"}))),Q(L,{variant:"secondary",fn:function(){if(r){var n=$(r);e(n),a("")}},block:!0},"Add item"))},rn={SM:"@media screen and (min-width: 320px)",MD:"@media screen and (min-width: 640px)",LG:"@media screen and (min-width: 1024px)",XL:"@media screen and (min-width: 1200px)"},an=f.a.createElement;function on(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function cn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?on(t,!0).forEach((function(e){Object(o.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):on(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function un(){var n=Object(l.a)(["\n  "," {\n    flex: 0 0 calc(50% - 1rem);\n  }\n"]);return un=function(){return n},n}function ln(){var n=Object(l.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n\n  "," {\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return ln=function(){return n},n}var sn=S.c.div(ln(),rn.MD),fn=S.c.div(un(),rn.MD),dn=function(n,e,t){return function(r){return e(function(n,e){return e.filter((function(e){return e.id!==n}))}(n,t))}};e.default=function(n){var e=Object(s.useState)(""),t=e[0],r=e[1],o=Object(s.useState)([]),c=o[0],l=o[1],f=Object(s.useState)([]),p=f[0],m=f[1],b=function(){var n=Object(i.a)(a.a.mark((function n(){var e,i,o,u,s,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={recipe:{title:t,ingredients:c,methods:p}},n.prev=1,n.next=4,fetch("".concat(Object(d.a)(),"/addRecipe"),{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(e)});case 4:return i=n.sent,n.next=7,i.json();case 7:o=n.sent,u=o.title,s=o.ingredients,f=o.methods,r(""),l([]),m([]),console.log("successfully added"),console.log({title:u,ingredients:s,methods:f}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(1),console.error(n.t0);case 19:case"end":return n.stop()}}),n,null,[[1,16]])})));return function(){return n.apply(this,arguments)}}();return an(sn,null,an(fn,null,an("h3",null,"Name your recipe"),an(C,{setter:r,placeholder:"Eg. Rabbit stew",value:t}),an("h3",null,"Add an ingredient"),an(tn,{setValueFn:function(n){return l([].concat(u(c),[cn({id:"ing__".concat(c.length),order:c.length},n)]))}}),an("h3",null,"Add a step"),an(U,{setValueFn:function(n){return m([].concat(u(p),[{id:"met__".concat(p.length),order:p.length,step:n}]))}}),an(L,{variant:"primary",fn:b},"Save")),an(fn,null,an(E,{title:t,ingredients:c,methods:p,removeMethod:function(n){return dn(n,m,p)},removeIngredient:function(n){return dn(n,l,c)}})))}},iepe:function(n,e,t){"use strict";t.d(e,"a",(function(){return l})),t.d(e,"b",(function(){return b}));var r=t("rePB"),a=t("+IKJ");function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(t,!0).forEach((function(e){Object(r.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var c="Nunito",u="Merriweather",l={serif:Object(r.a)({400:"".concat(u,"-Regular"),900:"".concat(u,"-Black")},"900","".concat(u,"-Black")),sans:{300:"".concat(c,"-Light"),700:"".concat(c,"-Bold"),900:"".concat(c,"-Black")}},s=function(n,e){return Object.keys(l["".concat(n)]).map((function(t){var r=t,a=e?"Italic":"",i="".concat(l[n][t]).concat(a);return o(o({fontWeight:new Number(r),fontFamily:i,fontFilePath:"".concat("/static/fonts/").concat(i)},e?{fontStyle:"italic"}:{}),{},{fileFormats:["ttf"]})}))},f=s("sans",!1),d=s("sans",!0),p=s("serif",!1),m=s("serif",!0),b=function(){return[f.map((function(n){return Object(a.a)(n)})),d.map((function(n){return Object(a.a)(n)})),p.map((function(n){return Object(a.a)(n)})),m.map((function(n){return Object(a.a)(n)}))]}},pvt0:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return t("FlrU")}])},rePB:function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}t.d(e,"a",(function(){return r}))},wx14:function(n,e,t){"use strict";function r(){return(r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}t.d(e,"a",(function(){return r}))}},[["pvt0",0,2,1,5,4]]]);